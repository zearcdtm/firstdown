import os import discord from discord.ext import commands from discord import app_commands TOKEN = os.environ["TOKEN"] GUILD_ID = 1443687099575570544 intents = discord.Intents.default() intents.members = True intents.message_content = True bot = commands.Bot(command_prefix="!", intents=intents) tree = bot.tree # Load all cogs for cog in ["cogs.reportgame", "cogs.stream", "cogs.schedule", "cogs.standings"]: try: bot.load_extension(cog) print(f"Loaded {cog}") except Exception as e: print(f"Failed to load {cog}: {e}") @bot.event async def on_ready(): print(f"Logged in as {bot.user} ({bot.user.id})") try: synced = await tree.sync(guild=discord.Object(id=GUILD_ID)) print(f"Synced {len(synced)} commands.") except Exception as e: print(f"Error syncing commands: {e}") bot.run(TOKEN)
